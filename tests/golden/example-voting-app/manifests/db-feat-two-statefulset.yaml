---
apiVersion: apps/v1
kind: StatefulSet
metadata:
  creationTimestamp: null
  labels:
    k8ify.ref-slug: feat-two
    k8ify.service: db
  name: db-feat-two
spec:
  replicas: 1
  selector:
    matchLabels:
      k8ify.ref-slug: feat-two
      k8ify.service: db
  serviceName: ""
  template:
    metadata:
      creationTimestamp: null
      labels:
        k8ify.ref-slug: feat-two
        k8ify.service: db
    spec:
      containers:
      - envFrom:
        - secretRef:
            name: db-feat-two-env
        image: docker.io/library/postgres:15-alpine
        name: db-feat-two
        resources: {}
        volumeMounts:
        - mountPath: /var/lib/postgresql/data
          name: db-data
        - mountPath: /healthchecks
          name: healthchecks
      restartPolicy: Always
      volumes:
      - name: db-data
        persistentVolumeClaim:
          claimName: db-data
      - name: healthchecks
        persistentVolumeClaim:
          claimName: healthchecks
  updateStrategy: {}
  volumeClaimTemplates:
  - apiVersion: v1
    kind: PersistentVolumeClaim
    metadata:
      creationTimestamp: null
      labels:
        k8ify.ref-slug: feat-two
        k8ify.service: db
      name: db-data
    spec:
      accessModes:
      - ReadWriteOnce
      resources:
        requests:
          storage: 100Mi
    status: {}
  - apiVersion: v1
    kind: PersistentVolumeClaim
    metadata:
      creationTimestamp: null
      labels:
        k8ify.ref-slug: feat-two
        k8ify.service: db
      name: healthchecks
    spec:
      accessModes:
      - ReadWriteOnce
      resources:
        requests:
          storage: 100Mi
    status: {}
status:
  availableReplicas: 0
  replicas: 0
